<div class="container mt-3">
  <!-- <button class="btn btn-success mb-3" (click)="addProduct()">Add Post</button> -->
  <button
    type="button"
    class="btn btn-success mb-3"
    data-bs-toggle="modal"
    data-bs-target="#addProductModal"
  >
    Add Product
  </button>
  <!-- Modal Add Product -->
  <div
    class="modal fade"
    id="addProductModal"
    tabindex="-1"
    aria-labelledby="addProductModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="addProductModalLabel">Add Product</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form action="#">
            <div class="mb-3">
              <label for="productSKU" class="form-label">SKU</label>
              <input type="number" class="form-control" id="productSKU" [(ngModel)]="createProductObj.SKU" required name="SKU"/>
            </div>
            <div class="mb-3">
              <label for="productHandle" class="form-label">Handle</label>
              <input type="text" class="form-control" id="productHandle" [(ngModel)]="createProductObj.Handle" required name="Handle"/>
            </div>
            <div class="mb-3">
              <label for="productTitle" class="form-label">Title</label>
              <input type="text" class="form-control" id="productTitle" [(ngModel)]="createProductObj.Title" required name="Title"/>
            </div>
            <div class="mb-3">
              <label for="productDescription" class="form-label"
                >Description</label
              >
              <input type="text" class="form-control" id="productDescription" [(ngModel)]="createProductObj.Description" required name="Description"/>
            </div>
            <div class="mb-3">
              <label for="productGrams" class="form-label">Grams</label>
              <input type="number" class="form-control" id="productGrams" [(ngModel)]="createProductObj.Grams" required name="Grams"/>
            </div>
            <div class="mb-3">
              <label for="productStock" class="form-label">Stock</label>
              <input type="number" class="form-control" id="productStock" [(ngModel)]="createProductObj.Stock" required name="Stock"/>
            </div>
            <div class="mb-3">
              <label for="productPrice" class="form-label">Price</label>
              <input type="number" class="form-control" id="productPrice" [(ngModel)]="createProductObj.Price" required name="Price"/>
            </div>
            <div class="mb-3">
              <label for="productComparePrice" class="form-label"
                >Compare Price</label
              >
              <input
                type="number"
                class="form-control"
                id="productComparePrice"
                [(ngModel)]="createProductObj.ComparePrice"
                required
                name="ComparePrice"
              />
            </div>
            <div class="mb-3">
              <label for="productBarcode" class="form-label">Barcode</label>
              <input type="number" class="form-control" id="productBarcode" [(ngModel)]="createProductObj.Barcode" required name="Barcode"/>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button type="button" class="btn btn-primary" (click)="addProduct()" data-bs-dismiss="modal">
            Save changes
          </button>
        </div>
      </div>
    </div>
  </div>

  <div *ngFor="let product of products; let i = index" class="card mb-3">
    <div class="card-body">
      <h5 class="card-title">{{ product.Title }}</h5>
      <div [innerHTML]="product.Description"></div>
      <!-- <button class="btn btn-primary" (click)="updateProduct(product)">
        Update
      </button> -->
      <button
        type="button"
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#updateProductModal"
        (click)="selectedProductToUpdate(product)"
      >
        Update
      </button>
      <!-- Modal Update Product -->
      <div
        class="modal fade"
        id="updateProductModal"
        tabindex="-1"
        aria-labelledby="updateProductModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="updateProductModalLabel">
                Update Product
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form>
                <div class="mb-3">
                  <label for="productSKU" class="form-label">SKU</label>
                  <input type="number" class="form-control" id="productSKU" [(ngModel)]="updateProductObj.SKU" required name="SKU"/>
                </div>
                <div class="mb-3">
                  <label for="productHandle" class="form-label">Handle</label>
                  <input type="text" class="form-control" id="productHandle" [(ngModel)]="updateProductObj.Handle" required name="Handle"/>
                </div>
                <div class="mb-3">
                  <label for="productTitle" class="form-label">Title</label>
                  <input type="text" class="form-control" id="productTitle" [(ngModel)]="updateProductObj.Title" required name="Title"/>
                </div>
                <div class="mb-3">
                  <label for="productDescription" class="form-label"
                    >Description</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="productDescription"
                    [(ngModel)]="updateProductObj.Description"
                    required
                    name="Description"
                  />
                </div>
                <div class="mb-3">
                  <label for="productGrams" class="form-label">Grams</label>
                  <input type="number" class="form-control" id="productGrams" [(ngModel)]="updateProductObj.Grams" required name="Grams"/>
                </div>
                <div class="mb-3">
                  <label for="productStock" class="form-label">Stock</label>
                  <input type="number" class="form-control" id="productStock" [(ngModel)]="updateProductObj.Stock" required name="Stock"/>
                </div>
                <div class="mb-3">
                  <label for="productPrice" class="form-label">Price</label>
                  <input type="number" class="form-control" id="productPrice" [(ngModel)]="updateProductObj.Price" required name="Price"/>
                </div>
                <div class="mb-3">
                  <label for="productComparePrice" class="form-label"
                    >Compare Price</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="productComparePrice"
                    [(ngModel)]="updateProductObj.ComparePrice"
                    required
                    name="ComparePrice"
                  />
                </div>
                <div class="mb-3">
                  <label for="productBarcode" class="form-label">Barcode</label>
                  <input
                    type="number"
                    class="form-control"
                    id="productBarcode"
                    [(ngModel)]="updateProductObj.Barcode"
                    required
                    name="Barcode"
                  />
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button
                type="button"
                class="btn btn-primary"
                (click)="updateProduct()"
                data-bs-dismiss="modal"
              >
                Save changes
              </button>
            </div>
          </div>
        </div>
      </div>

      <button
        type="button"
        class="btn btn-danger"
        data-bs-toggle="modal"
        data-bs-target="#deleteProductModal"
      >
        Delete
      </button>
      <!-- Modal Delete Product -->
      <div
        class="modal fade"
        id="deleteProductModal"
        tabindex="-1"
        aria-labelledby="deleteProductModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="deleteProductModalLabel">
                Delete Product
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>Are you sure you want to delete this product?</p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
              <button
                type="button"
                class="btn btn-danger"
                (click)="deleteProduct(product.SKU)"
                data-bs-dismiss="modal"
              >
                Delete
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
